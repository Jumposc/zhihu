let Article = [
    {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    }, {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    }, {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    }, {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    }, {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    }, {
        id: 1,
        title: '美国政府要求中国 72 小时内关闭驻休斯敦总领事馆，释放了哪些信号？',
        desc: '叶鱼： 大家也没必要在意这个“细思极恐”，词语贫瘠时代，已经成了知乎电视剧话题的提问风格，作为一部现代都市题材有啥可“细思极恐”的。我是把它当“值得注…',
        type: 'article',
        imgUrl: '',
        articlePraiseNum: 233,
        isPraiseArticle: false,
        isUnPraiseArticle: false,
        commentNum: 4,
        commentData: {
            isShow: false,
            sortType: 'default',
            commentList: [
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2020-01-20',
                    text: '11111111111111111111',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 1
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2021-11-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 2
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-10-22',
                    text: '333333333333333333333333333',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'sub-comment',
                    userName: 'zzzzzz',
                    replyUser: 'iiooie',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-01-20',
                    text: '555555555555555',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 3
                },
                {
                    type: 'root-comment',
                    userName: 'zzzzzz',
                    userImgUrl: "./images/user.jpg",
                    commentDate: '2019-02-20',
                    text: '2222222222222222222222222222',
                    commentPraiseNum: 15,
                    isPraiseComment: false,
                    index: 4
                }
            ]
        },
    },
]

//更改样式
function setStyle(el, styleobj) {
    for (key in styleobj) {
        el.style.setProperty(key, styleobj[key]);
    }
}

//关闭评论
function closeComment(el, data) {
    let comment = el.querySelector('.comment')
    el.removeChild(comment);
}

//按照时间排序
function sortByTime(data) {
    let sortData = data;
    sortData.commentList.sort((a, b) => {
        return a.commentDate > b.commentDate ? -1 : 1;
    });
    return sortData;
}

//按照默认排序
function sortByDefault(data) {
    let sortData = data;
    sortData.commentList.sort((a, b) => {
        return a.index > b.index ? 1 : -1;
    });
    return sortData;
}

// 获取文章列表
function getArticles() {
    return Article;
}

//从每个文章中获取评论列表
function getCommentsByArticleObj(articleObj) {
    return articleObj.commentData;
}


//初始化文章列表
function initArticleList(elem, data) {
    let li = document.createElement('li');
    showArticles(elem, li, data);
    addArticleFeaturesEvent(li, data);
    // window.onscroll = () =>{
    // }

}

//绑定文章功能的事件
function addArticleFeaturesEvent(elem, data) {
    //评论功能
    elem.addEventListener('click', (e) => {
        let commentBtn = elem.querySelector('.bottom > .right > .comment-btn');
        let commentData = getCommentsByArticleObj(data);
        if (e.currentTarget === elem && e.target === commentBtn) {

            if (commentData.isShow) {
                closeComment(e.currentTarget, commentData);
                commentData.isShow = false;
                commentBtn.querySelector('.text').innerHTML = `${commentData.commentList.length} 条评论`;
            } else {
                refreshComments(e.currentTarget, commentData);
                commentData.isShow = true;
                commentBtn.querySelector('.text').innerHTML = '收起评论';
                addCommentFeaturesEvent(elem, commentData);
            }
        }
    });
    //排序功能
    elem.addEventListener('click', (e) => {
        let sortBtn = elem.querySelector('.comment > .top > .sort');
        let commentData = getCommentsByArticleObj(data);
        if (e.currentTarget === elem && e.target === sortBtn) {
            if (commentData.sortType === 'default') {
                closeComment(elem, commentData);
                let sortData = sortByTime(commentData);
                commentData.sortType = 'time';
                refreshComments(elem, sortData);
                addCommentFeaturesEvent(elem, commentData);
            } else {
                closeComment(elem, commentData);
                let sortData = sortByDefault(commentData);
                commentData.sortType = 'default';
                refreshComments(elem, sortData);
                addCommentFeaturesEvent(elem, commentData);
            }
        }
    });
    //点赞文章
    elem.addEventListener('click', (e) => {
        let praiseBtn = elem.querySelector('.bottom .left > .praise');
        if (e.currentTarget === elem && e.target === praiseBtn) {
            if (data.isPraiseArticle) {
                data.articlePraiseNum -= 1;
                setStyle(praiseBtn, { background: "#e5f3fe", padding: '0px 12px', color: "#0084ff" });
                praiseBtn.querySelector('span').innerHTML = `赞同 ${data.articlePraiseNum}`;
                data.isPraiseArticle = false;
            } else {
                data.articlePraiseNum += 1;
                setStyle(praiseBtn, { background: "#0084ff", padding: '0px 24px', color: "#fff" });
                praiseBtn.querySelector('span').innerHTML = `赞同 ${data.articlePraiseNum}`;
                data.isPraiseArticle = true;
            }
        }
    });
    //反对文章
    elem.addEventListener('click', (e) => {
        let unPraiseBtn = elem.querySelector('.bottom > .left > .unPraise');
        if (e.currentTarget === elem && e.target === unPraiseBtn) {
            if (data.isUnPraiseArticle) {
                setStyle(unPraiseBtn, { background: "#0084ff", color: "#fff" });
                data.isUnPraiseArticle = false;
            } else {
                setStyle(unPraiseBtn, { background: "#e5f3fe", color: "#0084ff" });
                data.isUnPraiseArticle = true;
            }
        }
    });


}

//绑定评论功能的事件
function addCommentFeaturesEvent(elem, data) {
    let comments = elem.querySelectorAll('.comment > .comment-content > ul > li');

    comments.forEach((el, index) => {
        //点赞评论
        el.addEventListener('click', (e) => {
            let praiseBtn = el.querySelector('.warp > .comment-features > .praise');
            if (e.currentTarget === el && e.target === praiseBtn) {
                if (data.commentList[index].isPraiseComment) {
                    setStyle(praiseBtn, { color: "#8590a6" });
                    data.commentList[index].commentPraiseNum -= 1;
                    data.commentList[index].isPraiseComment = false;
                    praiseBtn.querySelector('span').innerHTML = `${data.commentList[index].commentPraiseNum}`;
                } else {
                    setStyle(praiseBtn, { color: '#0084ff' });
                    data.commentList[index].commentPraiseNum += 1;
                    data.commentList[index].isPraiseComment = true;
                    praiseBtn.querySelector('span').innerHTML = `${data.commentList[index].commentPraiseNum}`;
                }
            }
        }
        );
        //检查点赞状态
        let praiseBtn = el.querySelector('.warp > .comment-features > .praise');
        if (data.commentList[index].isPraiseComment) {
            setStyle(praiseBtn, { color: "#0084ff" });
        } else {
            setStyle(praiseBtn, { color: '#8590a6' });
        }
    }
    )

}

//显示文章
function showArticles(elem, li, data) {

    li.innerHTML += `
        <h2 class="title">${data.title}</h2>
        <div class="img-text">
            ${data.type === 'article' ? '' : `<img class="img" src=${data.imgUrl} />`}
            <div class="text">
                <span>${data.desc}</span>
                <a href="">阅读全文</a>
                <svg class="Zi Zi--ArrowunPraise ContentItem-arrowIcon" fill="currentColor"
                    viewBox="0 0 24 24" width="24" height="24">
                    <path
                        d="M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z"
                        fill-rule="evenodd"></path>
                </svg>
            </div>
        </div>
        <div class="bottom">
            <div class="left">
                <button class="praise"><svg class="Zi Zi--Trianglepraise VoteButton-Trianglepraise"
                    fill="currentColor" viewBox="0 0 24 24" width="10" height="10">
                    <path
                        d="M2 18.242c0-.326.088-.532.237-.896l7.98-13.203C10.572 3.57 11.086 3 12 3c.915 0 1.429.571 1.784 1.143l7.98 13.203c.15.364.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H3.955c-1.08 0-1.955-.517-1.955-1.9z"
                        fill-rule="evenodd"></path>
                </svg>
                            <span>赞同 ${data.articlePraiseNum}</span></button>
                <button class="unPraise"><svg class="Zi Zi--TriangleunPraise" fill="currentColor"
                    viewBox="0 0 24 24" width="10" height="10">
                    <path
                        d="M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z"
                        fill-rule="evenodd"></path>
                </svg></button>
            </div>
            <div class="right">
                <button class="comment-btn">
                    <span class="icon">
                        <svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24"
                            width="1.2em" height="1.2em">
                            <path
                                d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </span>
                    <span class="text">${data.commentNum} 条评论</span>
                </button>
                <button class="share">
                    <span class="icon">
                        <svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24"
                            width="1.2em" height="1.2em">
                            <path
                                d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </span>
                    <span class="text">分享</span></button>
                <button class="collect">
                    <span class="icon">
                        <svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24"
                            width="1.2em" height="1.2em">
                            <path
                                d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </span>
                    <span class="text">收藏</span></button>
                <button class="like">
                    <span class="icon">
                        <svg class="Zi Zi--Heart Button-zi" fill="currentColor" viewBox="0 0 24 24"
                            width="1.2em" height="1.2em">
                            <path
                                d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </span>
                    <span class="text">喜欢</span></button>
                <button class="more"><svg class="Zi Zi--Dots Button-zi" fill="currentColor"
                    viewBox="0 0 24 24" width="1.2em" height="1.2em">
                    <path
                        d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"
                        fill-rule="evenodd"></path>
                </svg></button>
            </div>
        </div>
    `
    elem.append(li);
}

//刷新评论
function refreshComments(elem, data) {
    if (elem.querySelector('.comment') != null) {
        return;
    }
    let comment = document.createElement('div');
    let ul = document.createElement('ul');
    let commentList = document.createElement('div');
    let commentpage = document.createElement('div');
    let commentfooter = document.createElement('div');
    commentpage.className = 'page';
    commentfooter.className = 'footer';
    commentList.className = 'comment-content';
    comment.className = 'comment';
    comment.innerHTML =
        `<div class="top">
        <div class="title">${data.commentList.length}条评论</div>
        <div class="sort"><svg class="Zi Zi--Switch Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M13.004 7V4.232c0-.405.35-.733.781-.733.183 0 .36.06.501.17l6.437 5.033c.331.26.376.722.1 1.033a.803.803 0 0 1-.601.264H2.75a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.75 7h10.254zm-1.997 9.999v2.768c0 .405-.35.733-.782.733a.814.814 0 0 1-.5-.17l-6.437-5.034a.702.702 0 0 1-.1-1.032.803.803 0 0 1 .6-.264H21.25a.75.75 0 0 1 .75.75v1.499a.75.75 0 0 1-.75.75H11.007z" fill-rule="evenodd"></path></svg>
        ${data.sortType === 'default' ? '切换为时间排序' : '切换为默认排序'}</div>
    </div>
        <div class="subtitle"><span class="text">评论（${data.commentList.length})</span></div>
        `;
    for (let i = 0; i < data.commentList.length; i++) {
        ul.innerHTML +=
            `
                <li class="${data.commentList[i].type} ${data.sortType === 'default' ? '' : 'sort-by-time'}">
                    <div class="warp">
                        <div class="top">
                            <img class="user-img" src="${data.commentList[i].userImgUrl}" />
                            <div class="user-name">${data.commentList[i].userName}${data.commentList[i].type === 'root-comment' ? '' : `<span> 回复 </span>${data.commentList[i].replyUser}`}</div>
                            <div class="comment-date">${data.commentList[i].commentDate}</div>
                        </div>
                        <div class="comment-text">${data.commentList[i].text}</div>
                        <div class="comment-features">
                            <button class="praise"><svg class="Zi Zi--Like" fill="currentColor"
                                viewBox="0 0 24 24" width="16" height="16"
                                style="margin-right: 5px;">
                                <path
                                    d="M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z"
                                    fill-rule="evenodd"></path>
                            </svg>
                                <span>${data.commentList[i].commentPraiseNum}</span></button>
                            <button class="reply hover-btn"><svg class="Zi Zi--Reply" fill="currentColor"
                                viewBox="0 0 24 24" width="16" height="16"
                                style="margin-right: 5px;">
                                <path
                                    d="M22.959 17.22c-1.686-3.552-5.128-8.062-11.636-8.65-.539-.053-1.376-.436-1.376-1.561V4.678c0-.521-.635-.915-1.116-.521L1.469 10.67a1.506 1.506 0 0 0-.1 2.08s6.99 6.818 7.443 7.114c.453.295 1.136.124 1.135-.501V17a1.525 1.525 0 0 1 1.532-1.466c1.186-.139 7.597-.077 10.33 2.396 0 0 .396.257.536.257.892 0 .614-.967.614-.967z"
                                    fill-rule="evenodd"></path>
                            </svg>
                                回复</button>
                            <button class="unPraise hover-btn"><svg class="Zi Zi--Like" fill="currentColor"
                                viewBox="0 0 24 24" width="16" height="16"
                                style="transform: rotate(180deg); margin-right: 5px;">
                                <path
                                    d="M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z"
                                    fill-rule="evenodd"></path>
                            </svg>
                                踩</button>
                            <button class="report hover-btn"><svg class="Zi Zi--Report" fill="currentColor"
                                viewBox="0 0 24 24" width="16" height="16"
                                style="margin-right: 5px;">
                                <path
                                    d="M19.947 3.129c-.633.136-3.927.639-5.697.385-3.133-.45-4.776-2.54-9.949-.888-.997.413-1.277 1.038-1.277 2.019L3 20.808c0 .3.101.54.304.718a.97.97 0 0 0 .73.304c.275 0 .519-.102.73-.304.202-.179.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V3.964c0-.599-.42-.972-1.053-.835z"
                                    fill-rule="evenodd"></path>
                            </svg>
                                报告</button>
                        </div>
                    </div>
                </li>
            `;
    }
    commentList.append(ul);
    commentpage.innerHTML +=
        `   <button class="page-num">1</button>
            <button class="page-num">2</button>
            <button class="page-num">3</button>
            <button class="page-num">4</button>
            <button class="next-page">下一页</button>`
    commentfooter.innerHTML +=
        ` <div class="comment-input">
                <input type="text" placeholder="写下你的评论..." />
                <svg class="Zi Zi--Emotion" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M7.523 13.5h8.954c-.228 2.47-2.145 4-4.477 4-2.332 0-4.25-1.53-4.477-4zM12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15zm-3-8a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"></path></svg>
            </div>
            <button class="submit">发布</button>`
    comment.append(commentList);
    comment.append(commentpage);
    comment.append(commentfooter);
    elem.append(comment);
}







let articles = getArticles();
let articleUl = document.querySelector('body > section > .main > .content > ul');
articles.forEach((value) => {
    initArticleList(articleUl, value);
});
